[{"question": "How to set the current working directory in Python?", "answers": ["Try os.chdir", "Perhaps this is what you are looking for:"]}, {"question": "After you train a model in Tensorflow: ", "answers": ["I am improving my answer to add more details for saving and restoring models. ", "In (and after) TensorFlow version 0.11.0RC1, you can save and restore your model directly by calling tf.train.export_meta_graph and tf.train.import_meta_graph according to https://www.tensorflow.org/programmers_guide/meta_graph."]}, {"question": "Just like C, you can break a long line into multiple short lines. But in Python, if I do this, there will be an indent error... Is it possible?", "answers": ["From PEP 8 - Style Guide for Python Code:", "There is more than one way to do it."]}, {"question": "How would one create an iterative function (or iterator object) in python?", "answers": ["Iterator objects in python conform to the iterator protocol, which basically means they provide two methods: __iter__()  and  __next__().  ", "There are four ways to build an iterative function:"]}, {"question": "What is the python keyword \"with\" used for?", "answers": ["In python the with keyword is used when working with unmanaged resources (like file streams). It is similar to the using statement in VB.NET and C#. It allows you to ensure that a resource is \"cleaned up\" when the code that uses it finishes running, even if exceptions are thrown. It provides 'syntactic sugar' for try/finally blocks.", "Explanation from the Pershing on Programming blog:"]}, {"question": "Sometimes I want to just insert some print statements in my code, and see what gets printed out when I exercise it. My usual way to \"exercise\" it is with existing pytest tests. But when I run these, I don't seem able to see any standard output (at least from within PyCharm, my IDE).", "answers": ["The -s switch disables per-test capturing (only if a test fails).", "pytest captures the stdout from individual tests and displays them only on certain conditions, along with the summary of the tests it prints by default."]}, {"question": "I understand how this construct works:", "answers": ["A common construct is to run a loop until something is found and then to break out of the loop. The problem is that if I break out of the loop or the loop ends I need to determine which case happened. One method is to create a flag or store variable that will let me do a second test to see how the loop was exited.", "It's a strange construct even to seasoned Python coders. When used in conjunction with for-loops it basically means \"find some item in the iterable, else if none was found do ...\". As in:"]}, {"question": "I'm new to Python and I'm just trying to understand how its packages work.  Presumably eggs are some sort of packaging mechanism, but what would be a quick overview of what role they play and may be some information on why they're useful and how to create them?", "answers": ["Note: Egg packaging has been superseded by Wheel packaging.", "The .egg file is a distribution format for Python packages. It\u2019s just an alternative to a source code distribution or Windows exe. But note that for pure Python, the .egg file is completely cross-platform."]}, {"question": "My Google-fu has failed me.", "answers": ["is will return True if two variables point to the same object (in memory), == if the objects referred to by the variables are equal.", "There is a simple rule of thumb to tell you when to use == or is."]}, {"question": "I am interested in knowing how to convert a pandas dataframe into a NumPy array.", "answers": ["It's time to deprecate your usage of values and as_matrix().", "To convert a pandas dataframe (df) to a numpy ndarray, use this code:"]}, {"question": "I am using Python 3.1 and can't get the raw_input to \"freeze\" the dos pop-up. The book I'm reading is for Python 2.5 and I'm using Python 3.1", "answers": ["Starting with Python 3, raw_input() was renamed to input().", "This works in Python 3.x and 2.x:"]}, {"question": "I'm using virtualenv and I need to install \"psycopg2\".", "answers": ["Note: Since a while back, there are binary wheels for Windows in PyPI, so this should no longer be an issue for Windows users. Below are solutions for Linux, Mac users, since lots of them find this post through web searches.", "On CentOS, you need the postgres dev packages:"]}, {"question": "I'm working on a python script that starts several processes and database connections. Every now and then I want to kill the script with a Ctrl+C signal, and I'd like to do some cleanup.", "answers": ["Register your handler with signal.signal like this:", "You can treat it like an exception (KeyboardInterrupt), like any other. Make a new file and run it from your shell with the following contents to see what I mean:"]}, {"question": "I am trying to save a csv to a folder after making some edits to the file. ", "answers": ["Use index=False.", "There are two ways to handle the situation where we do not want the index to be stored in csv file."]}, {"question": "I want to install pip. It should support Python 3, but it requires setuptools, which is available only for Python 2.", "answers": ["edit: Manual installation and use of setuptools is not the standard process anymore.", "I was able to install pip for python 3 on Ubuntu just by running sudo apt-get install python3-pip. "]}, {"question": "\nWant to improve this question? Update the question so it focuses on one problem only by editing this post.\r\n                ", "answers": ["There are a bunch of ways to do it, but the most straightforward is to simply \nuse the Python debugger. Just add following line in to a Django view function:", "I really like Werkzeug's interactive debugger. It's similar to Django's debug page, except that you get an interactive shell on every level of the traceback. If you use the django-extensions, you get a runserver_plus managment command which starts the development server and gives you Werkzeug's debugger on exceptions."]}, {"question": "Is there a built-in function for getting the size of a file object in bytes? I see some people do something like this:", "answers": ["Use os.path.getsize(path) which will", "Return the size, in bytes, of path. Raise os.error if the file does not exist or is inaccessible."]}, {"question": "What is the difference between the search() and match() functions in the Python re module?", "answers": ["re.match is anchored at the beginning of the string. That has nothing to do with newlines, so it is not the same as using ^ in the pattern.", "search \u21d2 find something anywhere in the string and return a match object."]}, {"question": "The documentation for the argparse python module, while excellent I'm sure, is too much for my tiny beginner brain to grasp right now. I don't need to do math on the command line or meddle with formatting lines on the screen or change option characters. All I want to do is \"If arg is A, do this, if B do that, if none of the above show help and quit\".", "answers": ["Here's the way I do it with argparse (with multiple args):", "My understanding of the original question is two-fold. First, in terms of the simplest possible argparse example, I'm surprised that I haven't seen it here. Of course, to be dead-simple, it's also all overhead with little power, but it might get you started."]}, {"question": "I\u2019m trying to port an open-source library to Python 3.  (SymPy, if anyone is wondering.) ", "answers": ["As of March 2020, most of the other answers to this question are several years out-of-date. When you come across advice on Python packaging issues, remember to look at the date of publication, and don't trust out-of-date information.", "I\u2019m a distutils maintainer and distutils2/packaging contributor.  I did a talk about Python packaging at ConFoo 2011 and these days I\u2019m writing an extended version of it.  It\u2019s not published yet, so here are excerpts that should help define things."]}, {"question": "I'm writing a Python application that takes as a command as an argument, for example:", "answers": ["With Python older than 2.7/3.1, that's pretty much how you do it.", "The recommended way for Python 2.7 and 3.1 and later is to use importlib module:"]}, {"question": "I've installed a library using the command", "answers": ["Normally your requirements.txt file would look something like this:", "\u201cEditable\u201d packages syntax can be used in requirements.txt to import packages from a variety of VCS (git, hg, bzr, svn):"]}, {"question": "I have a function that analyzes a CSV file with Pandas and produces a dict with summary information. I want to return the results as a response from a Flask view. How do I return a JSON response?", "answers": ["As of Flask 1.1.0 a view can directly return a Python dict and Flask will call jsonify automatically.", "jsonify serializes the data you pass it to JSON. If you want to serialize the data yourself, do what jsonify does by building a response with status=200 and mimetype='application/json'."]}, {"question": "I haven't been able to find an understandable explanation of how to actually use Python's itertools.groupby() function.  What I'm trying to do is this:", "answers": ["IMPORTANT NOTE: You have to sort your data first.", "itertools.groupby is a tool for grouping items."]}, {"question": "I am printing Python exception messages to a log file with logging.error:", "answers": ["logger.exception will output a stack trace alongside the error message.", "Using exc_info options may be better, to allow you to choose the error level (if you use exception, it will always be at the error level): "]}, {"question": "I want my Python function to split a sentence (input) and store each word in a list. My current code splits the sentence, but does not store the words as a list. How do I do that?", "answers": ["This should be enough to store each word in a list.  words is already a list of the words from the sentence, so there is no need for the loop.", "Splits the string in text on any consecutive runs of whitespace."]}, {"question": "Python has an ordered dictionary. What about an ordered set?", "answers": ["There is an ordered set (possible new link) recipe for this which is referred to from the Python 2 Documentation. This runs on Py2.6 or later and 3.0 or later without any modifications. The interface is almost exactly the same as a normal set, except that initialisation should be done with a list.", "The answer is no, but you can use collections.OrderedDict from the Python standard library with just keys (and values as None) for the same purpose."]}, {"question": "Is there a Python equivalent for the case statement such as the examples available in VB.NET or C#?", "answers": ["In Python 3.10, they introduced the pattern matching.", "The direct replacement is if/elif/else. "]}, {"question": "Is output buffering enabled by default in Python's interpreter for sys.stdout?", "answers": ["From Magnus Lycka answer on a mailing list:", "I would rather put my answer in How to flush output of print function? or in Python's print function that flushes the buffer when it's called?, but since they were marked as duplicates of this one (what I do not agree), I'll answer it here."]}, {"question": "In Python Pandas, what's the best way to check whether a DataFrame has one (or more) NaN values?", "answers": ["jwilner's response is spot on. I was exploring to see if there's a faster option, since in my experience, summing flat arrays is (strangely) faster than counting. This code seems faster:", "You have a couple of options. "]}, {"question": "I'm trying to map a list into hex, and then use the list elsewhere. In python 2.6, this was easy:", "answers": ["Do this:", "New and neat in Python 3.5:"]}, {"question": "I have a list of lists:", "answers": ["A key can be a function that returns a tuple:", "I'm not sure if this is the most pythonic method ...\nI had a list of tuples that needed sorting 1st by descending integer values and 2nd alphabetically. This required reversing the integer sort but not the alphabetical sort. Here was my solution: (on the fly in an exam btw, I was not even aware you could 'nest' sorted functions)"]}, {"question": "Can you tell me when to use these vectorization methods with basic examples? ", "answers": ["Straight from Wes McKinney's Python for Data Analysis book, pg. 132 (I highly recommended this book):", "First major difference: DEFINITION"]}, {"question": "I'm quite familiar with Django, but I recently noticed there exists an on_delete=models.CASCADE option with the models. I have searched for the documentation for the same, but I couldn't find anything more than:", "answers": ["This is the behaviour to adopt when the referenced object is deleted. It is not specific to Django; this is an SQL standard. Although Django has its own implementation on top of SQL. (1)", "The on_delete method is used to tell Django what to do with model instances that depend on the model instance you delete. (e.g. a ForeignKey relationship). The on_delete=models.CASCADE tells Django to cascade the deleting effect i.e. continue deleting the dependent models as well. "]}, {"question": "It seems that python supports many different commands to stop script execution.The choices I've found are:  quit(), exit(), sys.exit(), os._exit() ", "answers": ["Let me give some information on them:", "The functions* quit(), exit(), and sys.exit() function in the same way: they raise the SystemExit exception.  So there is no real difference, except that sys.exit() is always available but exit() and quit() are only available if the site module is imported."]}, {"question": "What is the difference between abstract class and interface in Python?", "answers": ["What you'll see sometimes is the following:", "An interface, for an object, is a set of methods and attributes on that object."]}, {"question": "I've seen some code samples and tutorials that use", "answers": ["Without the main sentinel, the code would be executed even if the script were imported as a module.", "Everyone else has already answered it, but I think I still have something else to add."]}, {"question": "I'm not sure if this is Flask specific, but when I run an app in dev mode (http://localhost:5000), I cannot access it from other machines on the network (with http://[dev-host-ip]:5000). With Rails in dev mode, for example, it works fine. I couldn't find any docs regarding the Flask dev server configuration. Any idea what should be configured to enable this?", "answers": ["While this is possible, you should not use the Flask dev server in production. The Flask dev server is not designed to be particularly secure, stable, or efficient. See the docs on deploying for correct solutions.", "If you use the flask executable to start your server, use flask run --host=0.0.0.0 to change the default from 127.0.0.1 and open it up to non-local connections."]}, {"question": "I'm using the Python bindings to run Selenium WebDriver:", "answers": ["You can read the innerHTML attribute to get the source of the content of the element or outerHTML for the source with the current element.", "There is not really a straightforward way of getting the HTML source code of a webelement. You will have to use JavaScript. I am not too sure about python bindings, but you can easily do like this in Java. I am sure there must be something similar to JavascriptExecutor class in Python."]}, {"question": "This code reads thefile.csv, makes changes, and writes results to thefile_subset1.", "answers": ["In Python 2, open outfile with mode 'wb' instead of 'w'.  The csv.writer writes \\r\\n into the file directly.  If you don't open the file in binary mode, it will write \\r\\r\\n because on Windows text mode will translate each \\n into \\r\\n.", "Opening the file in binary mode \"wb\" will not work in Python 3+.  Or rather, you'd have to convert your data to binary before writing it.  That's just a hassle."]}, {"question": "Why does the following behave unexpectedly in Python?", "answers": ["Take a look at this:", "In summary - let me emphasize: Do not use is to compare integers."]}, {"question": "In Python, how do I read in a binary file and loop over each byte of that file?", "answers": ["Python 2.4 and Earlier", "This generator yields bytes from a file, reading the file in chunks:"]}, {"question": "I have a Python program that uses YAML.  I attempted to install it on a new server using pip install yaml and it returns the following:", "answers": ["You could try the search feature in pip, ", "pip install pyyaml"]}, {"question": "Given a DataFrame with a column \"BoolCol\", we want to find the indexes of the DataFrame in which the values for \"BoolCol\" == True", "answers": ["df.iloc[i] returns the ith row of df. i does not refer to the index label, i is a 0-based index.", "Can be done using numpy where() function:"]}, {"question": "If you are creating a 1d array, you can implement it as a List, or else use the 'array' module in the standard library.  I have always used Lists for 1d arrays.", "answers": ["Basically, Python lists are very flexible and can hold completely heterogeneous, arbitrary data, and they can be appended to very efficiently, in amortized constant time.  If you need to shrink and grow your list time-efficiently and without hassle, they are the way to go.  But they use a lot more space than C arrays, in part because each item in the list requires the construction of an individual Python object, even for data that could be represented with simple C types (e.g. float or uint64_t).", "For almost all cases the normal list is the right choice. The arrays module is more like a thin wrapper over C arrays, which give you kind of strongly typed containers (see docs), with access to more C-like types such as signed/unsigned short or double, which are not part of the built-in types. I'd say use the arrays module only if you really need it, in all other cases stick with lists."]}, {"question": "I have this string:", "answers": ["A simple possibility (if you'd rather avoid REs) is", "A regular expression can be used to offer more control over the whitespace characters that are combined."]}, {"question": "\nWant to improve this question? Update the question so it focuses on one problem only by editing this post.\r\n                ", "answers": ["You can have a regular Python module, say config.py, like this:", "The sample config you provided is actually valid YAML.  In fact, YAML meets all of your demands, is implemented in a large number of languages, and is extremely human friendly.  I would highly recommend you use it.  The PyYAML project provides a nice python module, that implements YAML.  "]}, {"question": "I am trying to implement a \"Digit Recognition OCR\" in OpenCV-Python (cv2). It is just for learning purposes. I would like to learn both KNearest and SVM features in OpenCV. ", "answers": ["Well, I decided to workout myself on my question to solve above problem. What I wanted is to implement a simpl OCR using KNearest or SVM features in OpenCV. And below is what I did and how. ( it is just for learning how to use KNearest for simple OCR purposes).", "For those who interested in C++ code can refer below code. \nThanks Abid Rahman for the nice explanation."]}, {"question": "I need to install a package from PyPi straight within my script.\nMaybe there's some module or distutils (distribute, pip etc.) feature which allows me to just execute something like pypi.install('requests') and requests will be installed into my virtualenv.", "answers": ["The officially recommended way to install packages from a script is by calling pip's command-line interface via a subprocess. Most other answers presented here are not supported by pip. Furthermore since pip v10, all code has been moved to pip._internal precisely in order to make it clear to users that programmatic use of pip is not allowed.", "You can also use something like:"]}, {"question": "Is there a simple way to flatten a list of iterables with a list comprehension, or failing that, what would you all consider to be the best way to flatten a shallow list like this, balancing performance and readability?", "answers": ["If you're just looking to iterate over a flattened version of the data structure and don't need an indexable sequence, consider itertools.chain and company.", "You almost have it! The way to do nested list comprehensions is to put the for statements in the same order as they would go in regular nested for statements."]}, {"question": "I have a dataframe with over 200 columns. The issue is as they were generated the order is", "answers": ["This assumes that sorting the column names will give the order you want.  If your column names won't sort lexicographically (e.g., if you want column Q10.3 to appear after Q9.1), you'll need to sort differently, but that has nothing to do with pandas.", "You can also do more succinctly:"]}, {"question": "I want to iterate through the methods in a class, or handle class or instance objects differently based on the methods present. How do I get a list of class methods?", "answers": ["An example (listing the methods of the optparse.OptionParser class):", "There is the dir(theobject) method to list all the fields and methods of your object (as a tuple) and the inspect module (as codeape write) to list the fields and methods with their doc (in \"\"\")."]}, {"question": "I am in the process of learning Python and I have reached the section about the pass statement. The guide I'm using defines it as being a null statement that is commonly used as a placeholder.", "answers": ["Suppose you are designing a new class with some methods that you don't want to implement, yet.", "Python has the syntactical requirement that code blocks (after if, except, def, class etc.) cannot be empty. Empty code blocks are however useful in a variety of different contexts, such as in examples below, which are the most frequent use cases I have seen."]}, {"question": "How do I get the number of elements in a list in jinja2 template?", "answers": ["You can also use this syntax in expressions like", "Alex' comment looks good but I was still confused with using range.\nThe following worked for me while working on a for condition using length within range."]}, {"question": "Since Python's string can't be changed, I was wondering how to concatenate a string more efficiently?", "answers": ["The best way of appending a string to a string variable is to use + or +=. This is because it's readable and fast. They are also just as fast, which one you choose is a matter of taste, the latter one is the most common. Here are timings with the timeit module:", "If you are concatenating a lot of values, then neither. Appending a list is expensive. You can use StringIO for that. Especially if you are building it up over a lot of operations."]}, {"question": "In Django doc,", "answers": ["Your understanding is mostly correct. You use select_related when the object that you're going to be selecting is a single object, so OneToOneField or a ForeignKey. You use prefetch_related when you're going to get a \"set\" of things, so ManyToManyFields as you stated or reverse ForeignKeys. Just to clarify what I mean by \"reverse ForeignKeys\" here's an example:", "Both methods achieve the same purpose, to forego unnecessary db queries. But they use different approaches for efficiency."]}, {"question": "It seems they canceled in Python 3 all the easy way to quickly load a script by removing execfile() ", "answers": ["According to the documentation, instead of ", "You are just supposed to read the file and exec the code yourself. 2to3 current replaces"]}, {"question": "I am trying to subtract one date value from the value of datetime.datetime.today() to calculate how long ago something was. But it complains:", "answers": ["In the standard library, there is no cross-platform way to create aware timezones without creating your own timezone class. (Edit: Python 3.9 introduces zoneinfo in the standard library which does provide this functionality.)", "Get the current time, in a specific timezone:"]}, {"question": "Does Python support short-circuiting in boolean expressions?", "answers": ["Yep, both and and or operators short-circuit -- see the docs.", "Let's first define a useful function to determine if something is executed or not. A simple function that accepts an argument, prints a message and returns the input, unchanged."]}, {"question": "I'm new to Python and Matplotlib, I would like to simply apply colormap to an image and write the resulting image, without using axes, labels, titles or anything usually automatically added by matplotlib. Here is what I did:", "answers": ["I think that the command axis('off') takes care of one of the problems more succinctly than changing each axis and the border separately. It still leaves the white space around the border however. Adding bbox_inches='tight' to the savefig command almost gets you there, you can see in the example below that the white space left is much smaller, but still present.", "I learned this trick from matehat, here:"]}, {"question": "I have a script named test1.py which is not in a module. It just has code that should execute when the script itself is run. There are no functions, classes, methods, etc. I have another script which runs as a service. I want to call test1.py from the script running as a service.", "answers": ["The usual way to do this is something like the following.", "This is possible in Python 2 using"]}, {"question": "I want to build a query for sunburnt(solr interface) using class inheritance and therefore adding key - value pairs together. The sunburnt interface takes keyword arguments. How can I transform a dict ({'type':'Event'}) into keyword arguments (type='Event')?", "answers": ["Use the double-star (aka double-splat?) operator:", "** operator would be helpful here. "]}, {"question": "I have a directory that contains my Python unit tests. Each unit test module is of the form test_*.py. I am attempting to make a file called all_test.py that will, you guessed it, run all files in the aforementioned test form and return the result. I have tried two methods so far; both have failed. I will show the two methods, and I hope someone out there knows how to actually do this correctly.", "answers": ["With Python 2.7 and higher you don't have to write new code or use third-party tools to do this; recursive test execution via the command line is built-in.  Put an __init__.py in your test directory and:", "In python 3, if you're using unittest.TestCase:"]}, {"question": "In a program I'm writing I have Python use the re.search() function to find matches in a block of text and print the results. However, the program exits once it finds the first match in the block of text.", "answers": ["Use re.findall or re.finditer instead."]}, {"question": "What are the advantages and disadvantages of each?", "answers": ["Numpy matrices are strictly 2-dimensional, while numpy arrays (ndarrays) are\nN-dimensional.  Matrix objects are a subclass of ndarray, so they inherit all\nthe attributes and methods of ndarrays.", "Scipy.org recommends that you use arrays:"]}, {"question": "I've been making Python scripts for simple tasks at work and never really bothered packaging them for others to use. Now I have been assigned to make a Python wrapper for a REST API. I have absolutely no idea on how to start and I need help.", "answers": ["A module is a file containing Python definitions and statements. The file name is the module name with the suffix .py", "Python 3 - UPDATED 18th November 2015"]}, {"question": "I have a Python file which might have to support Python versions < 3.x and >= 3.x. Is there a way to introspect the Python runtime to know the version which it is running (for example, 2.6 or 3.2.x)?", "answers": ["Sure, take a look at sys.version and sys.version_info.", "Try this code, this should work:"]}, {"question": "What's the easiest way to add an empty column to a pandas DataFrame object?  The best I've stumbled upon is something like", "answers": ["If I understand correctly, assignment should fill:", "To add to DSM's answer and building on this associated question, I'd split the approach into two cases:"]}, {"question": "\nWant to improve this question? Update the question so it's on-topic for Stack Overflow.\r\n                ", "answers": ["Try PDFMiner. It can extract text from PDF files as HTML, SGML or \"Tagged PDF\" format.", "The PDFMiner package has changed since codeape posted.  "]}, {"question": "How can I convert a DataFrame column of strings (in dd/mm/yyyy format) to datetimes?", "answers": ["The easiest way is to use to_datetime:", "If your date column is a string of the format '2017-01-01'\nyou can use pandas astype to convert it to datetime."]}, {"question": "On my local machine, I run a python script which contains this line", "answers": ["Don't use os.system. It has been deprecated in favor of subprocess. From the docs: \"This module intends to replace several older modules and functions: os.system, os.spawn\".", "To somewhat expand on the earlier answers here, there are a number of details which are commonly overlooked."]}, {"question": "Right now I'm importing a fairly large CSV as a dataframe every time I run the script. Is there a good solution for keeping that dataframe constantly available in between runs so I don't have to spend all that time waiting for the script to run?", "answers": ["The easiest way is to pickle it using to_pickle:", "Although there are already some answers I found a nice comparison in which they tried several ways to serialize Pandas DataFrames: Efficiently Store Pandas DataFrames. "]}, {"question": "Is there a way to have a defaultdict(defaultdict(int)) in order to make the following code work?", "answers": ["Yes like this:", "The parameter to the defaultdict constructor is the function which will be called for building new elements. So let's use a lambda !"]}, {"question": "I'm curious, whether there is any way to print formatted numpy.arrays, e.g., in a way similar to this:", "answers": ["You can use set_printoptions to set the precision of the output:", "You can get a subset of the np.set_printoptions functionality from the np.array_str command, which applies only to a single print statement."]}, {"question": "I am getting a ValueError: cannot reindex from a duplicate axis when I am trying to set an index to a certain value. I tried to reproduce this with a simple example, but I could not do it.", "answers": ["This error usually rises when you join / assign to a column when the index has duplicate values. Since you are assigning to a row, I suspect that there is a duplicate value in affinity_matrix.columns, perhaps not shown in your question.", "As others have said, you've probably got duplicate values in your original index. To find them do this:"]}, {"question": "In C# there's a null-coalescing operator (written as ??) that allows for easy (short) null checking during assignment:", "answers": ["Ok, it must be clarified how the or operator works. It is a boolean operator, so it works in a boolean context. If the values are not boolean, they are converted to boolean for the purposes of the operator.", "Strictly,"]}, {"question": "I have a list of tuples in Python, and I have a conditional where I want to take the branch ONLY if the tuple is not in the list (if it is in the list, then I don't want to take the if branch)", "answers": ["The bug is probably somewhere else in your code, because it should work fine:", "The cheapest and most readable solution is using the in operator (or in your specific case, not in). As mentioned in the documentation,"]}, {"question": "In comparison to Java (in a string), you would do something like \"First Line\\r\\nSecond Line\".", "answers": ["It depends on how correct you want to be. \\n will usually do the job. If you really want to get it right, you look up the newline character in the os package. (It's actually called linesep.)", "The new line character is \\n. It is used inside a string."]}, {"question": "I want to send a datetime.datetime object in serialized form from Python using JSON and de-serialize in JavaScript using JSON. What is the best way to do this?", "answers": ["You can add the 'default' parameter to json.dumps to handle this:", "For cross-language projects, I found out that strings containing RfC 3339 dates are the best way to go. An RfC 3339 date looks like this:"]}, {"question": "I would like to get some feedback on these tools on:", "answers": ["Well, I am a bit curious, so I just tested the three myself right after asking the question ;-)", "pep8 was recently added to PyPi."]}, {"question": "How can I order by descending my query set in django by date?", "answers": ["Notice the - before check_in.", "A hyphen \"-\" in front of \"check_in\" indicates descending order. Ascending order is implied."]}, {"question": "I want to delete a particular record. Such as", "answers": ["There are a couple of ways:", "this will raise exception if the object with specified primary key doesn't exist because at first it tries to retrieve the specified object."]}, {"question": "In order to test some functionality I would like to create a DataFrame from a string. Let's say my test data looks like:", "answers": ["A simple way to do this is to use StringIO.StringIO (python2) or io.StringIO (python3) and pass that to the pandas.read_csv function. E.g:", "Split Method"]}, {"question": "In Python, I've seen two variable values swapped using this syntax:", "answers": ["Python evaluates expressions from left to right. Notice that while\nevaluating an assignment, the right-hand side is evaluated before the\nleft-hand side.", "That is the standard way to swap two variables, yes."]}, {"question": "I have seen many projects using simplejson module instead of json module from the Standard Library. Also, there are many different simplejson modules. Why would use these alternatives, instead of the one in the Standard Library?", "answers": ["json is simplejson, added to the stdlib. But since json was added in 2.6, simplejson has the advantage of working on more Python versions (2.4+). ", "I have to disagree with the other answers: the built in json library (in Python 2.7) is not necessarily slower than simplejson. It also doesn't have this annoying unicode bug."]}, {"question": "Most operations in pandas can be accomplished with operator chaining (groupby, aggregate, apply, etc), but the only way I've found to filter rows is via normal bracket indexing", "answers": ["I'm not entirely sure what you want, and your last line of code does not help either, but anyway:", "Filters can be chained using a Pandas query:"]}, {"question": "In Python for *nix, does time.sleep() block the thread or the process?", "answers": ["It blocks the thread.  If you look in Modules/timemodule.c in the Python source, you'll see that in the call to floatsleep(), the substantive part of the sleep operation is wrapped in a Py_BEGIN_ALLOW_THREADS and Py_END_ALLOW_THREADS block, allowing other threads to continue to execute while the current one sleeps.  You can also test this with a simple python program:", "It will just sleep the thread except in the case where your application has only a single thread, in which case it will sleep the thread and effectively the process as well."]}, {"question": "What is the difference between 'SAME' and 'VALID' padding in tf.nn.max_pool of tensorflow?", "answers": ["If you like ascii art:", "When stride is 1 (more typical with convolution than pooling), we can think of the following distinction:"]}, {"question": "Is there a Pool class for worker threads, similar to the multiprocessing module's Pool class?", "answers": ["I just found out that there actually  is a thread-based Pool interface in the multiprocessing module, however it is hidden somewhat and not properly documented.", "In Python 3 you can use concurrent.futures.ThreadPoolExecutor, i.e.:"]}, {"question": "I have a timezone aware timestamptz field in PostgreSQL. When I pull data from the table, I then want to subtract the time right now so I can get it's age.", "answers": ["have you tried to remove the timezone awareness?", "The correct solution is to add the timezone info e.g., to get the current time as an aware datetime object in Python 3:"]}, {"question": "I can't figure out how to use an array or matrix in the way that I would normally use a list. I want to create an empty array (or matrix) and then add one column (or row) to it at a time.", "answers": ["You have the wrong mental model for using NumPy efficiently. NumPy arrays are stored in contiguous blocks of memory. If you want to add rows or columns to an existing array, the entire array needs to be copied to a new block of memory, creating gaps for the new elements to be stored. This is very inefficient if done repeatedly to build an array.", "A NumPy array is a very different data structure from a list and is designed to be used in different ways.  Your use of hstack is potentially very inefficient... every time you call it, all the data in the existing array is copied into a new one. (The append function will have the same issue.)  If you want to build up your matrix one column at a time, you might be best off to keep it in a list until it is finished, and only then convert it into an array."]}, {"question": "Unless I'm mistaken, creating a function in Python works like this:", "answers": ["The other answers have done a good job at explaining duck typing and the simple answer by tzot:", "Python is strongly typed because every object has a type, every object knows its type, it's impossible to accidentally or deliberately use an object of a type \"as if\" it was an object of a different type, and all elementary operations on the object are delegated to its type."]}, {"question": "How can I sort this list in descending order?", "answers": ["This will give you a sorted version of the array.", "In one line, using a lambda:"]}, {"question": "Two options in setup.py develop and install are confusing me. According to this site, using develop creates a special link to site-packages directory.", "answers": ["python setup.py install is used to install (typically third party) packages that you're not going to develop/modify/debug yourself.", "From the documentation. The develop will not install the package but it will create a .egg-link in the deployment directory back to the project source code directory."]}, {"question": "This is probably a trivial question, but how do I parallelize the following loop in python?", "answers": ["Using multiple threads on CPython won't give you better performance for pure-Python code due to the global interpreter lock (GIL).  I suggest using the multiprocessing module instead:", "The above works beautifully on my machine (Ubuntu, package joblib was pre-installed, but can be installed via pip install joblib)."]}, {"question": "I recently discovered pytest. It seems great. However, I feel the documentation could be better.", "answers": ["Is this the correct use of conftest.py?", "In a wide meaning conftest.py is a local per-directory plugin. Here you define directory-specific hooks and fixtures. In my case a have a root directory containing project specific tests directories. Some common magic is stationed in 'root' conftest.py. Project specific - in their own ones. Can't see anything bad in storing fixtures in conftest.py unless they are not used widely (In that case I prefer to define them in test files directly)"]}, {"question": "I'm sure this is a trivial operation, but I can't figure out how it's done.", "answers": ["From the Django documentation:", "When you have list of items and you want to check the possible values from the list then you can't use =."]}, {"question": "I would like to install scipy-0.15.1-cp33-none-win_amd64.whl that I have saved to the local drive. I am using:", "answers": ["cp33 means CPython 3.3.", "This can also be caused by using an out-of-date pip with a recent wheel file."]}, {"question": "If you read an entire file with content = open('Path/to/file', 'r').read() is the file handle left open until the script exits?  Is there a more concise method to read a whole file? ", "answers": ["The answer to that question depends somewhat on the particular Python implementation.  ", "You can use pathlib."]}, {"question": "In numpy, some of the operations return in shape (R, 1) but some return (R,). This will make matrix multiplication more tedious since explicit reshape is required. For example, given a matrix M, if we want to do numpy.dot(M[:,0], numpy.ones((1, R))) where R is the number of rows (of course, the same issue also occurs column-wise). We will get matrices are not aligned error since M[:,0] is in shape (R,) but numpy.ones((1, R)) is in shape (1, R).", "answers": ["You write, \"I know literally it's list of numbers and list of lists where all list contains only a number\" but that's a bit of an unhelpful way to think about it.", "The difference between (R,) and (1,R) is literally the number of indices that you need to use.  ones((1,R)) is a 2-D array that happens to have only one row.  ones(R) is a vector.  Generally if it doesn't make sense for the variable to have more than one row/column, you should be using a vector, not a matrix with a singleton dimension."]}, {"question": "Both function return the same list.\nThen what is the need of two different functions performing same job.", "answers": ["The current API is that:", "As explained here a key difference is that:"]}, {"question": "I am trying to install PIL (the Python Imaging Library) using the command:", "answers": ["https://pypi.org/project/Pillow/", "This works for me:"]}, {"question": "How do I convert a numpy.datetime64 object to a datetime.datetime (or Timestamp)?", "answers": ["You can just use the pd.Timestamp constructor. The following diagram may be useful for this and related questions. ", "Welcome to hell."]}, {"question": "Suppose I have a dataframe with columns a, b and c, I want to sort the dataframe by column b in ascending order, and by column c in descending order, how do I do this?", "answers": ["As of the 0.17.0 release, the sort method was deprecated in favor of sort_values.  sort was completely removed in the 0.20.0 release. The arguments (and results) remain the same:", "As of pandas 0.17.0, DataFrame.sort() is deprecated, and set to be removed in a future version of pandas. The way to sort a dataframe by its values is now is DataFrame.sort_values"]}, {"question": "Which image processing techniques could be used to implement an application that detects the Christmas trees displayed in the following images?", "answers": ["I have an approach which I think is interesting and a bit different from the rest.  The main difference in my approach, compared to some of the others, is in how the image segmentation step is performed--I used the DBSCAN clustering algorithm from Python's scikit-learn; it's optimized for finding somewhat amorphous shapes that may not necessarily have a single clear centroid.", "EDIT NOTE: I edited this post to (i) process each tree image individually, as requested in the requirements, (ii) to consider both object brightness and shape in order to improve the quality of the result. "]}, {"question": "What is the difference between Numpy's array() and asarray() functions? When should you use one rather than the other? They seem to generate identical output for all the inputs I can think of.", "answers": ["The definition of asarray is:", "Since other questions are being redirected to this one which ask about asanyarray or other array creation routines, it's probably worth having a brief summary of what each of them does."]}, {"question": "How do I change the size of my image so it's suitable for printing?", "answers": ["You can also set figure size by passing dictionary to rc parameter with key 'figure.figsize' in seaborn set method:", "You need to create the matplotlib Figure and Axes objects ahead of time, specifying how big the figure is:"]}, {"question": "Let\u2019s say I have a NumPy array, a:", "answers": ["np.r_[ ... ] and np.c_[ ... ]\nare useful alternatives to vstack and hstack,\nwith square brackets [] instead of round ().\nA couple of examples:", "I think a more straightforward solution and faster to boot is to do the following:"]}, {"question": "Suppose I have the following argparse snippet:", "answers": ["Use the argparse.ArgumentDefaultsHelpFormatter formatter:", "Add '%(default)s' to the help parameter to control what is displayed."]}, {"question": "I'm learning to use matplotlib by studying examples, and a lot of examples seem to include a line like the following before creating a single plot...", "answers": ["plt.subplots() is a function that returns a tuple containing a figure and axes object(s). Thus when using fig, ax = plt.subplots() you unpack this tuple into the variables fig and ax. Having fig is useful if you want to change figure-level attributes or save the figure as an image file later (e.g. with fig.savefig('yourfilename.png')). You certainly don't have to use the returned figure object but many people do use it later so it's common to see. Also, all axes objects (the objects that have plotting methods), have a parent figure object anyway, thus:", "Just a supplement here."]}, {"question": "How do I get the probability of a string being similar to another string in Python?", "answers": ["There is a built in.", "I think maybe you are looking for an algorithm describing the distance between strings. Here are some you may refer to:  "]}, {"question": "I see a lot on converting a date string to an datetime object in Python, but I want to go the other way.\nI've got ", "answers": ["You can use strftime to help you format your date.", "date and datetime objects (and time as well) support a mini-language to specify output, and there are two ways to access it:"]}, {"question": "How do I make Python dictionary members accessible via a dot \".\"?", "answers": ["I've always kept this around in a util file. You can use it as a mixin on your own classes too.", "You can do it using this class I just made. With this class you can use the Map object like another dictionary(including json serialization) or with the dot notation. I hope to help you:"]}, {"question": "I have a plot with two y-axes, using twinx(). I also give labels to the lines, and want to show them with legend(), but I only succeed to get the labels of one axis in the legend:", "answers": ["You can easily add a second legend by adding the line:", "I'm not sure if this functionality is new, but you can also use the get_legend_handles_labels() method rather than keeping track of lines and labels yourself:"]}, {"question": "What is the difference between raw_input() and input() in Python 3?", "answers": ["The difference is that raw_input() does not exist in Python 3.x, while input() does.  Actually, the old raw_input() has been renamed to input(), and the old input() is gone, but can easily be simulated by using eval(input()).  (Remember that eval() is evil. Try to use safer ways of parsing your input if possible.)", "In Python 2, raw_input() returns a string, and input() tries to run the input as a Python expression."]}, {"question": "I have one field in a pandas DataFrame that was imported as string format. \nIt should be a datetime variable.\nHow do I convert it to a datetime column and then filter based on date.", "answers": ["Use the to_datetime function, specifying a format to match your data.", "If you have more than one column to be converted you can do the following:"]}, {"question": "I want to write a Django query equivalent to this SQL query:", "answers": ["via Documentation", "Because QuerySets implement the Python __or__ operator (|), or union, it just works. As you'd expect, the | binary operator returns a QuerySet so order_by(), .distinct(), and other queryset filters can be tacked on to the end."]}, {"question": "In a similar way to using varargs in C or C++:", "answers": ["Yes. You can use *args as a non-keyword argument. You will then be able to pass any number of arguments.", "Adding to unwinds post:"]}, {"question": "This is the best algorithm I could come up.", "answers": ["Warning: timeit results may vary due to differences in hardware or\nversion of Python.  ", "Faster & more memory-wise pure Python code:"]}, {"question": "I am trying to reconcile my understand of LSTMs and pointed out here in this post by Christopher Olah implemented in Keras. I am following the blog written by Jason Brownlee for the Keras tutorial. What I am mainly confused about is,", "answers": ["As a complement to the accepted answer, this answer shows keras behaviors and how to achieve each picture.", "First of all, you choose great tutorials(1,2) to start."]}, {"question": "gives you", "answers": ["Because it's more common to call range(0, 10) which returns [0,1,2,3,4,5,6,7,8,9] which contains 10 elements which equals len(range(0, 10)). Remember that programmers prefer 0-based indexing.", "Although there are some useful algorithmic explanations here, I think it may help to add some simple 'real life' reasoning as to why it works this way, which I have found useful when introducing the subject to young newcomers:"]}, {"question": "I'm launching a subprocess with the following command:", "answers": ["Use a process group so as to enable sending a signal to all the process in the groups. For that, you should attach a session id to the parent process of the spawned/child processes, which is a shell in your case. This will make it the group leader of the processes. So now, when a signal is sent to the process group leader, it's transmitted to all of the child processes of this group.", "p.kill() ends up killing the shell process and cmd is still running."]}, {"question": "How do I convert a NumPy array to a Python List (for example [[1,2,3],[4,5,6]] ), and do it reasonably fast?", "answers": ["Use tolist():", "The numpy .tolist method produces nested lists if the numpy array shape is 2D."]}]